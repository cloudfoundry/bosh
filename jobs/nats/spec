---
name: nats

templates:
  nats_ctl.erb: bin/nats_ctl
  nats.cfg.erb: config/nats.cfg
  nats_client_ca.pem.erb: config/nats_client_ca.pem
  nats_server_certificate.pem.erb: config/nats_server_certificate.pem
  nats_server_private_key.erb: config/nats_server_private_key

packages:
  - gonats

properties:
  nats.listen_address:
    description: IP address nats mbus listens on
    default: 0.0.0.0 # "::" listen all interfaces (IPv6)?
  nats.port:
    description: TCP port nats mbus listens on
    default: 4222
  nats.ping_interval:
    description: Time interval (in seconds) pings from server
    default: 5
  nats.ping_max_outstanding:
    description: Maximum number of pings before declaring a client unresponsive
    default: 2
  nats.user:
    description: Username clients must use to access nats mbus
  nats.password:
    description: Password clients must use to access nats mbus
  nats.auth_timeout:
    description: Timeout (in seconds) for clients to send auth credentials
    default: 30
  nats.tls.ca:
    description: CA cert to trust when communicating with NATS server
  nats.tls.server.certificate:
    description: Certificate for NATs mutual TLS
  nats.tls.server.private_key:
    description: Private Key for NATs mutual TLS
  nats.tls.timeout:
    description: Timeout (in seconds) for TLS handshake
    default: 30
  nats.allow_legacy_agents:
    default: true
    description: Flag for allowing legacy agents
